<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Slider</title>

    <style>
        html, body {
            height: 100%;
        }

        * {
            cursor: default;
        }

        body {
            display: flex;
            justify-content: center;
            align-items : center;
            }

        .arrow {
            width: 20px;
            margin: 5px;
            border: 0;
            font-size: 30px;
            color: navy;
            }

        .content {
            width: 460px;
            height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
        }

        .big-frame {
            width: 460px;
            height: 330px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
            }
        
        .top-frame {
            width: 460px;
            height: 35px;
            text-align: center;
            top: 20px;
            position: relative;
            font-size: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
        }

        .top-left {
            width: 200px;
            height: 35px;
            text-align: left;
            color: crimson;
        }

        .top-right {
            width: 200px;
            height: 35px;
            text-align: right;
            color: navy;
        }

        .bottom-frame {
            width: 460px;
            height: 35px;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .circle {
            height: 14px;
            width: 14px;
            background-color: white;
            border-radius: 50%;
            border: 1px solid navy;
            display: inline-block;
            margin: 3px;
            font-size: 10px;
            font-weight: 300;
            text-align: center;
            color:white;
        }

        .circle-current {
            background-color: navy;
        }

        .slide-window {
            width: 400px;
            height: 300px;
            margin: 0 auto;
            padding: 0;
            overflow: hidden;
            text-align: center;
            }

        .many-slides {
            /* width: 100%; */
            height: 100%;
            margin: 0 auto;
            position: relative;
            left: -100%;
            transition: transform 1s ease-in-out;
            }

        .each-slide {
            float: left;
            margin: 0 auto;
            color: white;
            width: 400px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: crimson;
            border-radius: 5%;
            border: 3px white solid;
            box-sizing: border-box;
            font-size:100px;
            }

    </style>

</head>

<!-- <body data-slides="1,2"> -->
<!-- <body data-slides="üêè, ü¶è, üêÅ, ü¶â, ü¶î,ü¶á,ü¶å, üêã,üê°, üêå, üêû, ü¶Ç, üê¢,üêì,üê™, üêò"> -->
<body data-slides="üêè, ü¶è, üêÅ, ü¶â, ü¶î,ü¶á,ü¶å, üêã">
<!-- <body data-slides=""> -->
<!-- <body data-slides="A,B,C,D,E,F"> -->

    <script type="text/javascript">
        (() => {

            // your code...

            // –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

            const ANIMATION_INTERVAL = 4000;
            const WAIT_BEFORE_START_ANIMATION = 2000;
            const FRAME_SHIFT_PIXELS = 400;
            
            // –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
            
            let currentIndex = 0;
            let startTimer = -1;
            let intervalTimer = -1;

            // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –≤ —Ç—ç–≥–µ body.

            const $body = document.querySelector('[data-slides]');

            let slidesContent = $body.getAttribute('data-slides').split(',');
            slidesContent = slidesContent.map(slide => slide.trim());

            const numberElements = slidesContent.length;

            if ((numberElements === 1) && (slidesContent[0] === ''))
                slidesContent = ['-'];

            // –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

            const $content = document.createElement('div');
            $content.classList.add('content');

            const $topFrame = document.createElement('div');
            $topFrame.classList.add('top-frame');

            const $topLeft = document.createElement('div');
            $topLeft.classList.add('top-left');
            $topLeft.innerHTML = '';

            const $topRight = document.createElement('div');
            $topRight.classList.add('top-right');
            $topRight.innerHTML = '1/' + numberElements;

            $topFrame.appendChild($topLeft);
            $topFrame.appendChild($topRight);

            const $bottomFrame = document.createElement('div');
            $bottomFrame.classList.add('bottom-frame');

            // –ø–∞–≥–∏–Ω–∞—Ç–æ—Ä
            let i = 0;
            const $circles = slidesContent.map(slide => {
                const $circle = document.createElement('div');
                $circle.classList.add('circle');
                $circle.setAttribute('data-circle', i++);
                // $circle.textContent = i;
                $bottomFrame.appendChild($circle);
                return $circle;
            });

            $circles[0].classList.add('circle-current');

            // –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ —Å–ª–∞–π–¥–µ—Ä–∞

            const $bigFrame = document.createElement('div');
            $bigFrame.classList.add('big-frame');

            const $leftArrow = document.createElement('div');
            $leftArrow.classList.add('arrow');
            $leftArrow.setAttribute('data-step', '1');
            $leftArrow.textContent = '‚Øá';

            const $rightArrow = document.createElement('div');
            $rightArrow.classList.add('arrow');
            $rightArrow.setAttribute('data-step', '-1');
            $rightArrow.textContent = '‚Øà';

            const $outer = document.createElement('div');
            $outer.classList.add('slide-window');

            // –í–Ω—É—Ç—Ä–µ–Ω–∏–π div –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤
            const $inner = document.createElement('div');
            $inner.classList.add('many-slides');
            $inner.style.width = (numberElements + 1) * 100 + '%';
            $inner.setAttribute('data-moving', '0');

            // –§—Ä–µ–π–º—ã –¥–ª—è —Å–ª–∞–π–¥–µ—Ä–∞
            const $frames = slidesContent.map(slide => {

                const $frame = document.createElement('div');
                $frame.textContent = slide;

                $frame.classList.add('each-slide');
                $inner.appendChild($frame);

                return $frame;
            });

            // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º —Å–ª–µ–≤–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç)
            const $frameFirst = document.createElement('div');
            $frameFirst.classList.add('each-slide');
            $frameFirst.textContent = slidesContent[numberElements - 1];
            $inner.insertBefore($frameFirst, $inner.childNodes[0]);

            // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º –≤ –∫–æ–Ω—Ü–µ (–ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º)
            const $frameLast = document.createElement('div');
            $frameLast.classList.add('each-slide');
            $frameLast.textContent = slidesContent[0];

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

            if (numberElements > 1) $bigFrame.appendChild($leftArrow);

            $outer.appendChild($inner);
            $bigFrame.appendChild($outer);

            if (numberElements > 1) $bigFrame.appendChild($rightArrow);

            $content.appendChild($topFrame);
            $content.appendChild($bigFrame);
            $content.appendChild($bottomFrame);

            $body.appendChild($content);



            // –ê–Ω–∏–º–∞—Ü–∏—è –∏ –¥—Ä—É–≥–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
            
            // –°–¥–≤–∏–≥
            const slideMe = (step) => {

                const $inner = document.querySelector('.many-slides');

                // —Ñ–ª–∞–≥ –¥–µ–π—Å—Ç–≤—É–µ—Ç –≤–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏
                // —á—Ç–æ–±—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤ –Ω–µ –ø–æ–º–µ—à–∞–ª–∏
                $inner.setAttribute('data-moving', '1');

                const translateValue = 'translate(' + step * FRAME_SHIFT_PIXELS + 'px)';
                $inner.style.transform = translateValue;

                // –ü–∞–≥–∏–Ω–∞—Ç–æ—Ä
                $circles[currentIndex].classList.toggle('circle-current');
                currentIndex = (currentIndex - step + numberElements) % numberElements;
                $circles[currentIndex].classList.toggle('circle-current');

                // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                $topRight.innerHTML = (currentIndex + 1) + '/' + numberElements;
            }

            // –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –ø–∞–≥–∏–Ω–∞—Ç–æ—Ä.
            const paginator = (circle) => {
                if (currentIndex === circle) return;
                slideMe(currentIndex - circle);
            };

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –∫–ª–∏–∫–æ–≤
            document.body.addEventListener('click', (event) =>{
                
                // –µ—Å–ª–∏ –º–µ–Ω—å—à–µ 2-—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ç–æ —Å–ª–∞–π–¥–µ—Ä –Ω–µ –Ω—É–∂–µ–Ω
                if (numberElements < 2) return;

                const target = event.target;
                
                // –æ–∂–∏–¥–∞–µ–º –∫–æ–Ω—Ü–∞ –∞–Ω–∏–º–∞—Ü–∏–∏, –∫–ª–∏–∫ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º
                const $inner = document.querySelector('.many-slides');
                if ($inner.getAttribute('data-moving') === '1') return;

                // —Ñ–∏–ª—å—Ç—Ä –∫–ª–∏–∫–æ–≤ –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º –∑–æ–Ω–∞–º
                // –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞ - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∞–Ω–∏–º–∞—Ü–∏—é –∏ –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ—è
                // –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–ª–∏–∫–∏

                if (target.hasAttribute('data-circle')||target.classList.contains('arrow')) {
                    clearTimeout(startTimer);
                    clearInterval(intervalTimer);
                    $topLeft.innerHTML = '';
                }      
                else return;

                if (target.hasAttribute('data-circle')) 
                    paginator(event.target.getAttribute('data-circle'));

                if (target.hasAttribute('data-step')) 
                    slideMe(target.getAttribute('data-step'));

                // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ—è
                startMe();

            });

            // –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ transition - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ª–∞–π–¥–µ—Ä inner,
            // —á—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å transition –ø–æ transfer
            // –°–æ–±—ã—Ç–∏–µ –ª–æ–≤–∏–º –Ω–∞ –æ–∫—Ä—É–∂–∞—é—â–µ–º —ç–ª–µ–º–µ–Ω—Ç–µ, —Ç–∞–∫ –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç inner –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è.

            $outer.addEventListener('transitionend', (event) => {

                // console.log("timer: " + intervalTimer + ",start: " + startTimer);

                if (!event.target.classList.contains('many-slides')) return;

                const $oldInner = event.target;
                $oldInner.parentElement.removeChild($oldInner);

                // –Ω–æ–≤—ã–π inner
                const $inner = document.createElement('div');
                $inner.classList.add('many-slides');
                $inner.setAttribute('data-moving', '0');

                let addOn = 0;
                if (currentIndex === 0) {
                    $inner.appendChild($frameFirst);
                    addOn = 1;
                }

                $frames.map($frame => $inner.appendChild($frame));

                if (currentIndex === numberElements - 1) {
                    $inner.appendChild($frameLast);
                    addOn = 1;
                }

                $inner.style.left = '-' + 100 * (currentIndex + ((currentIndex === 0) ? 1 : 0)) + '%';
                $inner.style.width = (numberElements + addOn) * 100 + '%';

                $outer.appendChild($inner);
            });

            // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤.
            const startMe = () => {
                startTimer = setTimeout(() => {
                    intervalTimer = setInterval(() => slideMe(-1), ANIMATION_INTERVAL);
                    $topLeft.innerHTML = 'auto';
                 }, WAIT_BEFORE_START_ANIMATION);
            }

            // –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
            if (numberElements > 1) startMe();

        })();
    </script>
</body>

</html>